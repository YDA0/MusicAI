{"ast":null,"code":"import { noOp } from \"../util/Interface\";\n/**\n * TransportEvent is an internal class used by [[Transport]]\n * to schedule events. Do no invoke this class directly, it is\n * handled from within Tone.Transport.\n */\nexport class TransportEvent {\n  /**\n   * @param transport The transport object which the event belongs to\n   */\n  constructor(transport, opts) {\n    /**\n     * The unique id of the event\n     */\n    this.id = TransportEvent._eventId++;\n    const options = Object.assign(TransportEvent.getDefaults(), opts);\n    this.transport = transport;\n    this.callback = options.callback;\n    this._once = options.once;\n    this.time = options.time;\n  }\n  static getDefaults() {\n    return {\n      callback: noOp,\n      once: false,\n      time: 0\n    };\n  }\n  /**\n   * Invoke the event callback.\n   * @param  time  The AudioContext time in seconds of the event\n   */\n  invoke(time) {\n    if (this.callback) {\n      this.callback(time);\n      if (this._once) {\n        this.transport.clear(this.id);\n      }\n    }\n  }\n  /**\n   * Clean up\n   */\n  dispose() {\n    this.callback = undefined;\n    return this;\n  }\n}\n/**\n * Current ID counter\n */\nTransportEvent._eventId = 0;","map":{"version":3,"names":["noOp","TransportEvent","constructor","transport","opts","id","_eventId","options","Object","assign","getDefaults","callback","_once","once","time","invoke","clear","dispose","undefined"],"sources":["../../../../Tone/core/clock/TransportEvent.ts"],"sourcesContent":[null],"mappings":"AACA,SAASA,IAAI,QAAQ,mBAAmB;AAUxC;;;;;AAKA,OAAM,MAAOC,cAAc;EA2B1B;;;EAGAC,YAAYC,SAAoB,EAAEC,IAAoC;IAvBtE;;;IAGA,KAAAC,EAAE,GAAWJ,cAAc,CAACK,QAAQ,EAAE;IAsBrC,MAAMC,OAAO,GAA0BC,MAAM,CAACC,MAAM,CAACR,cAAc,CAACS,WAAW,EAAE,EAAEN,IAAI,CAAC;IAExF,IAAI,CAACD,SAAS,GAAGA,SAAS;IAC1B,IAAI,CAACQ,QAAQ,GAAGJ,OAAO,CAACI,QAAQ;IAChC,IAAI,CAACC,KAAK,GAAGL,OAAO,CAACM,IAAI;IACzB,IAAI,CAACC,IAAI,GAAGP,OAAO,CAACO,IAAI;EACzB;EAEA,OAAOJ,WAAWA,CAAA;IACjB,OAAO;MACNC,QAAQ,EAAEX,IAAI;MACda,IAAI,EAAE,KAAK;MACXC,IAAI,EAAE;KACN;EACF;EAOA;;;;EAIAC,MAAMA,CAACD,IAAa;IACnB,IAAI,IAAI,CAACH,QAAQ,EAAE;MAClB,IAAI,CAACA,QAAQ,CAACG,IAAI,CAAC;MACnB,IAAI,IAAI,CAACF,KAAK,EAAE;QACf,IAAI,CAACT,SAAS,CAACa,KAAK,CAAC,IAAI,CAACX,EAAE,CAAC;;;EAGhC;EAEA;;;EAGAY,OAAOA,CAAA;IACN,IAAI,CAACN,QAAQ,GAAGO,SAAS;IACzB,OAAO,IAAI;EACZ;;AAxBA;;;AAGejB,cAAA,CAAAK,QAAQ,GAAG,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}