{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { OfflineContext } from \"../../core/context/OfflineContext\";\n/**\n * Render a segment of the oscillator to an offline context and return the results as an array\n */\nexport function generateWaveform(instance, length) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const duration = length / instance.context.sampleRate;\n    const context = new OfflineContext(1, duration, instance.context.sampleRate);\n    const clone = new instance.constructor(Object.assign(instance.get(), {\n      // should do 2 iterations\n      frequency: 2 / duration,\n      // zero out the detune\n      detune: 0,\n      context\n    })).toDestination();\n    clone.start(0);\n    const buffer = yield context.render();\n    return buffer.getChannelData(0);\n  });\n}","map":{"version":3,"names":["OfflineContext","generateWaveform","instance","length","duration","context","sampleRate","clone","constructor","Object","assign","get","frequency","detune","toDestination","start","buffer","render","getChannelData"],"sources":["../../../../Tone/source/oscillator/OscillatorInterface.ts"],"sourcesContent":[null],"mappings":";AAIA,SAASA,cAAc,QAAQ,mCAAmC;AAsGlE;;;AAGA,OAAM,SAAgBC,gBAAgBA,CAACC,QAAa,EAAEC,MAAc;;IACnE,MAAMC,QAAQ,GAAGD,MAAM,GAAGD,QAAQ,CAACG,OAAO,CAACC,UAAU;IACrD,MAAMD,OAAO,GAAG,IAAIL,cAAc,CAAC,CAAC,EAAEI,QAAQ,EAAEF,QAAQ,CAACG,OAAO,CAACC,UAAU,CAAC;IAC5E,MAAMC,KAAK,GAAG,IAAIL,QAAQ,CAACM,WAAW,CAACC,MAAM,CAACC,MAAM,CAACR,QAAQ,CAACS,GAAG,EAAE,EAAE;MACpE;MACAC,SAAS,EAAE,CAAC,GAAGR,QAAQ;MACvB;MACAS,MAAM,EAAE,CAAC;MACTR;KACA,CAAC,CAAC,CAACS,aAAa,EAAE;IACnBP,KAAK,CAACQ,KAAK,CAAC,CAAC,CAAC;IACd,MAAMC,MAAM,GAAG,MAAMX,OAAO,CAACY,MAAM,EAAE;IACrC,OAAOD,MAAM,CAACE,cAAc,CAAC,CAAC,CAAC;EAChC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}