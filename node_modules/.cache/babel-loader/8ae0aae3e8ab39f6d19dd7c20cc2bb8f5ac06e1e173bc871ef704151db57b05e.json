{"ast":null,"code":"import { Gain } from \"../core/context/Gain\";\nimport { readOnly } from \"../core/util/Interface\";\nimport { Effect } from \"./Effect\";\n/**\n * FeedbackEffect provides a loop between an audio source and its own output.\n * This is a base-class for feedback effects.\n */\nexport class FeedbackEffect extends Effect {\n  constructor(options) {\n    super(options);\n    this.name = \"FeedbackEffect\";\n    this._feedbackGain = new Gain({\n      context: this.context,\n      gain: options.feedback,\n      units: \"normalRange\"\n    });\n    this.feedback = this._feedbackGain.gain;\n    readOnly(this, \"feedback\");\n    // the feedback loop\n    this.effectReturn.chain(this._feedbackGain, this.effectSend);\n  }\n  static getDefaults() {\n    return Object.assign(Effect.getDefaults(), {\n      feedback: 0.125\n    });\n  }\n  dispose() {\n    super.dispose();\n    this._feedbackGain.dispose();\n    this.feedback.dispose();\n    return this;\n  }\n}","map":{"version":3,"names":["Gain","readOnly","Effect","FeedbackEffect","constructor","options","name","_feedbackGain","context","gain","feedback","units","effectReturn","chain","effectSend","getDefaults","Object","assign","dispose"],"sources":["../../../Tone/effect/FeedbackEffect.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,IAAI,QAAQ,sBAAsB;AAG3C,SAASC,QAAQ,QAAQ,wBAAwB;AACjD,SAASC,MAAM,QAAuB,UAAU;AAgBhD;;;;AAIA,OAAM,MAAgBC,cAAsD,SAAQD,MAAe;EAclGE,YAAYC,OAA8B;IAEzC,KAAK,CAACA,OAAO,CAAC;IAdN,KAAAC,IAAI,GAAW,gBAAgB;IAgBvC,IAAI,CAACC,aAAa,GAAG,IAAIP,IAAI,CAAC;MAC7BQ,OAAO,EAAE,IAAI,CAACA,OAAO;MACrBC,IAAI,EAAEJ,OAAO,CAACK,QAAQ;MACtBC,KAAK,EAAE;KACP,CAAC;IAEF,IAAI,CAACD,QAAQ,GAAG,IAAI,CAACH,aAAa,CAACE,IAAI;IACvCR,QAAQ,CAAC,IAAI,EAAE,UAAU,CAAC;IAE1B;IACA,IAAI,CAACW,YAAY,CAACC,KAAK,CAAC,IAAI,CAACN,aAAa,EAAE,IAAI,CAACO,UAAU,CAAC;EAC7D;EAEA,OAAOC,WAAWA,CAAA;IACjB,OAAOC,MAAM,CAACC,MAAM,CAACf,MAAM,CAACa,WAAW,EAAE,EAAE;MAC1CL,QAAQ,EAAE;KACV,CAAC;EACH;EAEAQ,OAAOA,CAAA;IACN,KAAK,CAACA,OAAO,EAAE;IACf,IAAI,CAACX,aAAa,CAACW,OAAO,EAAE;IAC5B,IAAI,CAACR,QAAQ,CAACQ,OAAO,EAAE;IACvB,OAAO,IAAI;EACZ"},"metadata":{},"sourceType":"module","externalDependencies":[]}